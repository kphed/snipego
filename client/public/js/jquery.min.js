function domloaded(){(function(){var COLORS,Confetti,NUM_CONFETTI,PI_2,canvas,confetti,context,drawCircle,i,range,resizeWindow,xpos;NUM_CONFETTI=350,COLORS=[[85,71,106],[174,61,99],[219,56,83],[244,92,68],[248,182,70]],PI_2=2*Math.PI,canvas=document.getElementById("world"),context=canvas.getContext("2d"),window.w=0,window.h=0,resizeWindow=function(){return window.w=canvas.width=window.innerWidth,window.h=canvas.height=window.innerHeight},window.addEventListener("resize",resizeWindow,!1),window.onload=function(){return setTimeout(resizeWindow,0)},range=function(a,b){return(b-a)*Math.random()+a},drawCircle=function(x,y,r,style){return context.beginPath(),context.arc(x,y,r,0,PI_2,!1),context.fillStyle=style,context.fill()},xpos=.5,document.onmousemove=function(e){return xpos=e.pageX/w},window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return window.setTimeout(callback,1e3/60)}}(),Confetti=function(){function Confetti(){this.style=COLORS[~~range(0,5)],this.rgb="rgba("+this.style[0]+","+this.style[1]+","+this.style[2],this.r=~~range(2,6),this.r2=2*this.r,this.replace()}return Confetti.prototype.replace=function(){return this.opacity=0,this.dop=.03*range(1,4),this.x=range(-this.r2,w-this.r2),this.y=range(-20,h-this.r2),this.xmax=w-this.r,this.ymax=h-this.r,this.vx=range(0,2)+8*xpos-5,this.vy=.7*this.r+range(-1,1)},Confetti.prototype.draw=function(){var ref;return this.x+=this.vx,this.y+=this.vy,this.opacity+=this.dop,this.opacity>1&&(this.opacity=1,this.dop*=-1),(this.opacity<0||this.y>this.ymax)&&this.replace(),0<(ref=this.x)&&ref<this.xmax||(this.x=(this.x+this.xmax)%this.xmax),drawCircle(~~this.x,~~this.y,this.r,this.rgb+","+this.opacity+")")},Confetti}(),confetti=function(){var j,ref,results;for(results=[],i=j=1,ref=NUM_CONFETTI;ref>=1?ref>=j:j>=ref;i=ref>=1?++j:--j)results.push(new Confetti);return results}(),window.step=function(){var c,j,len,results;for(requestAnimationFrame(step),context.clearRect(0,0,w,h),results=[],j=0,len=confetti.length;len>j;j++)c=confetti[j],results.push(c.draw());return results},step()}).call(this)}function domloaded(){(function(){var COLORS,Confetti,NUM_CONFETTI,PI_2,canvas,confetti,context,drawCircle,i,range,resizeWindow,xpos;NUM_CONFETTI=350,COLORS=[[85,71,106],[174,61,99],[219,56,83],[244,92,68],[248,182,70]],PI_2=2*Math.PI,canvas=document.getElementById("world"),context=canvas.getContext("2d"),window.w=0,window.h=0,resizeWindow=function(){return window.w=canvas.width=window.innerWidth,window.h=canvas.height=window.innerHeight},window.addEventListener("resize",resizeWindow,!1),window.onload=function(){return setTimeout(resizeWindow,0)},range=function(a,b){return(b-a)*Math.random()+a},drawCircle=function(x,y,r,style){return context.beginPath(),context.arc(x,y,r,0,PI_2,!1),context.fillStyle=style,context.fill()},xpos=.5,document.onmousemove=function(e){return xpos=e.pageX/w},window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return window.setTimeout(callback,1e3/60)}}(),Confetti=function(){function Confetti(){this.style=COLORS[~~range(0,5)],this.rgb="rgba("+this.style[0]+","+this.style[1]+","+this.style[2],this.r=~~range(2,6),this.r2=2*this.r,this.replace()}return Confetti.prototype.replace=function(){return this.opacity=0,this.dop=.03*range(1,4),this.x=range(-this.r2,w-this.r2),this.y=range(-20,h-this.r2),this.xmax=w-this.r,this.ymax=h-this.r,this.vx=range(0,2)+8*xpos-5,this.vy=.7*this.r+range(-1,1)},Confetti.prototype.draw=function(){var ref;return this.x+=this.vx,this.y+=this.vy,this.opacity+=this.dop,this.opacity>1&&(this.opacity=1,this.dop*=-1),(this.opacity<0||this.y>this.ymax)&&this.replace(),0<(ref=this.x)&&ref<this.xmax||(this.x=(this.x+this.xmax)%this.xmax),drawCircle(~~this.x,~~this.y,this.r,this.rgb+","+this.opacity+")")},Confetti}(),confetti=function(){var j,ref,results;for(results=[],i=j=1,ref=NUM_CONFETTI;ref>=1?ref>=j:j>=ref;i=ref>=1?++j:--j)results.push(new Confetti);return results}(),window.step=function(){var c,j,len,results;for(requestAnimationFrame(step),context.clearRect(0,0,w,h),results=[],j=0,len=confetti.length;len>j;j++)c=confetti[j],results.push(c.draw());return results},step()}).call(this)}function domloaded(){(function(){var COLORS,Confetti,NUM_CONFETTI,PI_2,canvas,confetti,context,drawCircle,i,range,resizeWindow,xpos;NUM_CONFETTI=350,COLORS=[[85,71,106],[174,61,99],[219,56,83],[244,92,68],[248,182,70]],PI_2=2*Math.PI,canvas=document.getElementById("world"),context=canvas.getContext("2d"),window.w=0,window.h=0,resizeWindow=function(){return window.w=canvas.width=window.innerWidth,window.h=canvas.height=window.innerHeight},window.addEventListener("resize",resizeWindow,!1),window.onload=function(){return setTimeout(resizeWindow,0)},range=function(a,b){return(b-a)*Math.random()+a},drawCircle=function(x,y,r,style){return context.beginPath(),context.arc(x,y,r,0,PI_2,!1),context.fillStyle=style,context.fill()},xpos=.5,document.onmousemove=function(e){return xpos=e.pageX/w},window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return window.setTimeout(callback,1e3/60)}}(),Confetti=function(){function Confetti(){this.style=COLORS[~~range(0,5)],this.rgb="rgba("+this.style[0]+","+this.style[1]+","+this.style[2],this.r=~~range(2,6),this.r2=2*this.r,this.replace()}return Confetti.prototype.replace=function(){return this.opacity=0,this.dop=.03*range(1,4),this.x=range(-this.r2,w-this.r2),this.y=range(-20,h-this.r2),this.xmax=w-this.r,this.ymax=h-this.r,this.vx=range(0,2)+8*xpos-5,this.vy=.7*this.r+range(-1,1)},Confetti.prototype.draw=function(){var ref;return this.x+=this.vx,this.y+=this.vy,this.opacity+=this.dop,this.opacity>1&&(this.opacity=1,this.dop*=-1),(this.opacity<0||this.y>this.ymax)&&this.replace(),0<(ref=this.x)&&ref<this.xmax||(this.x=(this.x+this.xmax)%this.xmax),drawCircle(~~this.x,~~this.y,this.r,this.rgb+","+this.opacity+")")},Confetti}(),confetti=function(){var j,ref,results;for(results=[],i=j=1,ref=NUM_CONFETTI;ref>=1?ref>=j:j>=ref;i=ref>=1?++j:--j)results.push(new Confetti);return results}(),window.step=function(){var c,j,len,results;for(requestAnimationFrame(step),context.clearRect(0,0,w,h),results=[],j=0,len=confetti.length;len>j;j++)c=confetti[j],results.push(c.draw());return results},step()}).call(this)}function domloaded(){(function(){var COLORS,Confetti,NUM_CONFETTI,PI_2,canvas,confetti,context,drawCircle,i,range,resizeWindow,xpos;NUM_CONFETTI=350,COLORS=[[85,71,106],[174,61,99],[219,56,83],[244,92,68],[248,182,70]],PI_2=2*Math.PI,canvas=document.getElementById("world"),context=canvas.getContext("2d"),window.w=0,window.h=0,resizeWindow=function(){return window.w=canvas.width=window.innerWidth,window.h=canvas.height=window.innerHeight},window.addEventListener("resize",resizeWindow,!1),window.onload=function(){return setTimeout(resizeWindow,0)},range=function(a,b){return(b-a)*Math.random()+a},drawCircle=function(x,y,r,style){return context.beginPath(),context.arc(x,y,r,0,PI_2,!1),context.fillStyle=style,context.fill()},xpos=.5,document.onmousemove=function(e){return xpos=e.pageX/w},window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return window.setTimeout(callback,1e3/60)}}(),Confetti=function(){function Confetti(){this.style=COLORS[~~range(0,5)],this.rgb="rgba("+this.style[0]+","+this.style[1]+","+this.style[2],this.r=~~range(2,6),this.r2=2*this.r,this.replace()}return Confetti.prototype.replace=function(){return this.opacity=0,this.dop=.03*range(1,4),this.x=range(-this.r2,w-this.r2),this.y=range(-20,h-this.r2),this.xmax=w-this.r,this.ymax=h-this.r,this.vx=range(0,2)+8*xpos-5,this.vy=.7*this.r+range(-1,1)},Confetti.prototype.draw=function(){var ref;return this.x+=this.vx,this.y+=this.vy,this.opacity+=this.dop,this.opacity>1&&(this.opacity=1,this.dop*=-1),(this.opacity<0||this.y>this.ymax)&&this.replace(),0<(ref=this.x)&&ref<this.xmax||(this.x=(this.x+this.xmax)%this.xmax),drawCircle(~~this.x,~~this.y,this.r,this.rgb+","+this.opacity+")")},Confetti}(),confetti=function(){var j,ref,results;for(results=[],i=j=1,ref=NUM_CONFETTI;ref>=1?ref>=j:j>=ref;i=ref>=1?++j:--j)results.push(new Confetti);return results}(),window.step=function(){var c,j,len,results;for(requestAnimationFrame(step),context.clearRect(0,0,w,h),results=[],j=0,len=confetti.length;len>j;j++)c=confetti[j],results.push(c.draw());return results},step()}).call(this)}function domloaded(){(function(){var e,t,n,i,o,r,s,a,c,u,d,l;n=350,e=[[85,71,106],[174,61,99],[219,56,83],[244,92,68],[248,182,70]],i=2*Math.PI,o=document.getElementById("world"),s=o.getContext("2d"),window.w=0,window.h=0,d=function(){return window.w=o.width=window.innerWidth,window.h=o.height=window.innerHeight},window.addEventListener("resize",d,!1),window.onload=function(){return setTimeout(d,0)},u=function(e,t){return(t-e)*Math.random()+e},a=function(e,t,n,o){return s.beginPath(),s.arc(e,t,n,0,i,!1),s.fillStyle=o,s.fill()},l=.5,document.onmousemove=function(e){return l=e.pageX/w},window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),t=function(){function t(){this.style=e[~~u(0,5)],this.rgb="rgba("+this.style[0]+","+this.style[1]+","+this.style[2],this.r=~~u(2,6),this.r2=2*this.r,this.replace()}return t.prototype.replace=function(){return this.opacity=0,this.dop=.03*u(1,4),this.x=u(-this.r2,w-this.r2),this.y=u(-20,h-this.r2),this.xmax=w-this.r,this.ymax=h-this.r,this.vx=u(0,2)+8*l-5,this.vy=.7*this.r+u(-1,1)},t.prototype.draw=function(){var e;return this.x+=this.vx,this.y+=this.vy,this.opacity+=this.dop,this.opacity>1&&(this.opacity=1,this.dop*=-1),(this.opacity<0||this.y>this.ymax)&&this.replace(),0<(e=this.x)&&e<this.xmax||(this.x=(this.x+this.xmax)%this.xmax),a(~~this.x,~~this.y,this.r,this.rgb+","+this.opacity+")")},t}(),r=function(){var e,i,o;for(o=[],c=e=1,i=n;i>=1?i>=e:e>=i;c=i>=1?++e:--e)o.push(new t);return o}(),window.step=function(){var e,t,n,i;for(requestAnimationFrame(step),s.clearRect(0,0,w,h),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.draw());return i},step()}).call(this)}function domloaded(){(function(){var e,t,n,i,o,r,s,a,c,u,d,l;n=350,e=[[85,71,106],[174,61,99],[219,56,83],[244,92,68],[248,182,70]],i=2*Math.PI,o=document.getElementById("world"),s=o.getContext("2d"),window.w=0,window.h=0,d=function(){return window.w=o.width=window.innerWidth,window.h=o.height=window.innerHeight},window.addEventListener("resize",d,!1),window.onload=function(){return setTimeout(d,0)},u=function(e,t){return(t-e)*Math.random()+e},a=function(e,t,n,o){return s.beginPath(),s.arc(e,t,n,0,i,!1),s.fillStyle=o,s.fill()},l=.5,document.onmousemove=function(e){return l=e.pageX/w},window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),t=function(){function t(){this.style=e[~~u(0,5)],this.rgb="rgba("+this.style[0]+","+this.style[1]+","+this.style[2],this.r=~~u(2,6),this.r2=2*this.r,this.replace()}return t.prototype.replace=function(){return this.opacity=0,this.dop=.03*u(1,4),this.x=u(-this.r2,w-this.r2),this.y=u(-20,h-this.r2),this.xmax=w-this.r,this.ymax=h-this.r,this.vx=u(0,2)+8*l-5,this.vy=.7*this.r+u(-1,1)},t.prototype.draw=function(){var e;return this.x+=this.vx,this.y+=this.vy,this.opacity+=this.dop,this.opacity>1&&(this.opacity=1,this.dop*=-1),(this.opacity<0||this.y>this.ymax)&&this.replace(),0<(e=this.x)&&e<this.xmax||(this.x=(this.x+this.xmax)%this.xmax),a(~~this.x,~~this.y,this.r,this.rgb+","+this.opacity+")")},t}(),r=function(){var e,i,o;for(o=[],c=e=1,i=n;i>=1?i>=e:e>=i;c=i>=1?++e:--e)o.push(new t);return o}(),window.step=function(){var e,t,n,i;for(requestAnimationFrame(step),s.clearRect(0,0,w,h),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.draw());return i},step()}).call(this)}function domloaded(){(function(){var e,t,n,i,o,r,s,a,c,u,d,l;n=350,e=[[85,71,106],[174,61,99],[219,56,83],[244,92,68],[248,182,70]],i=2*Math.PI,o=document.getElementById("world"),s=o.getContext("2d"),window.w=0,window.h=0,d=function(){return window.w=o.width=window.innerWidth,window.h=o.height=window.innerHeight},window.addEventListener("resize",d,!1),window.onload=function(){return setTimeout(d,0)},u=function(e,t){return(t-e)*Math.random()+e},a=function(e,t,n,o){return s.beginPath(),s.arc(e,t,n,0,i,!1),s.fillStyle=o,s.fill()},l=.5,document.onmousemove=function(e){return l=e.pageX/w},window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),t=function(){function t(){this.style=e[~~u(0,5)],this.rgb="rgba("+this.style[0]+","+this.style[1]+","+this.style[2],this.r=~~u(2,6),this.r2=2*this.r,this.replace()}return t.prototype.replace=function(){return this.opacity=0,this.dop=.03*u(1,4),this.x=u(-this.r2,w-this.r2),this.y=u(-20,h-this.r2),this.xmax=w-this.r,this.ymax=h-this.r,this.vx=u(0,2)+8*l-5,this.vy=.7*this.r+u(-1,1)},t.prototype.draw=function(){var e;return this.x+=this.vx,this.y+=this.vy,this.opacity+=this.dop,this.opacity>1&&(this.opacity=1,this.dop*=-1),(this.opacity<0||this.y>this.ymax)&&this.replace(),0<(e=this.x)&&e<this.xmax||(this.x=(this.x+this.xmax)%this.xmax),a(~~this.x,~~this.y,this.r,this.rgb+","+this.opacity+")")},t}(),r=function(){var e,i,o;for(o=[],c=e=1,i=n;i>=1?i>=e:e>=i;c=i>=1?++e:--e)o.push(new t);return o}(),window.step=function(){var e,t,n,i;for(requestAnimationFrame(step),s.clearRect(0,0,w,h),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.draw());return i},step()}).call(this)}function domloaded(){(function(){var e,t,n,i,o,r,s,a,c,u,d,l;n=350,e=[[85,71,106],[174,61,99],[219,56,83],[244,92,68],[248,182,70]],i=2*Math.PI,o=document.getElementById("world"),s=o.getContext("2d"),window.w=0,window.h=0,d=function(){return window.w=o.width=window.innerWidth,window.h=o.height=window.innerHeight},window.addEventListener("resize",d,!1),window.onload=function(){return setTimeout(d,0)},u=function(e,t){return(t-e)*Math.random()+e},a=function(e,t,n,o){return s.beginPath(),s.arc(e,t,n,0,i,!1),s.fillStyle=o,s.fill()},l=.5,document.onmousemove=function(e){return l=e.pageX/w},window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),t=function(){function t(){this.style=e[~~u(0,5)],this.rgb="rgba("+this.style[0]+","+this.style[1]+","+this.style[2],this.r=~~u(2,6),this.r2=2*this.r,this.replace()}return t.prototype.replace=function(){return this.opacity=0,this.dop=.03*u(1,4),this.x=u(-this.r2,w-this.r2),this.y=u(-20,h-this.r2),this.xmax=w-this.r,this.ymax=h-this.r,this.vx=u(0,2)+8*l-5,this.vy=.7*this.r+u(-1,1)},t.prototype.draw=function(){var e;return this.x+=this.vx,this.y+=this.vy,this.opacity+=this.dop,this.opacity>1&&(this.opacity=1,this.dop*=-1),(this.opacity<0||this.y>this.ymax)&&this.replace(),0<(e=this.x)&&e<this.xmax||(this.x=(this.x+this.xmax)%this.xmax),a(~~this.x,~~this.y,this.r,this.rgb+","+this.opacity+")")},t}(),r=function(){var e,i,o;for(o=[],c=e=1,i=n;i>=1?i>=e:e>=i;c=i>=1?++e:--e)o.push(new t);return o}(),window.step=function(){var e,t,n,i;for(requestAnimationFrame(step),s.clearRect(0,0,w,h),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.draw());return i},step()}).call(this)}function domloaded(){(function(){var e,t,n,i,o,r,s,a,c,u,d,l;n=350,e=[[85,71,106],[174,61,99],[219,56,83],[244,92,68],[248,182,70]],i=2*Math.PI,o=document.getElementById("world"),s=o.getContext("2d"),window.w=0,window.h=0,d=function(){return window.w=o.width=window.innerWidth,window.h=o.height=window.innerHeight},window.addEventListener("resize",d,!1),window.onload=function(){return setTimeout(d,0)},u=function(e,t){return(t-e)*Math.random()+e},a=function(e,t,n,o){return s.beginPath(),s.arc(e,t,n,0,i,!1),s.fillStyle=o,s.fill()},l=.5,document.onmousemove=function(e){return l=e.pageX/w},window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),t=function(){function t(){this.style=e[~~u(0,5)],this.rgb="rgba("+this.style[0]+","+this.style[1]+","+this.style[2],this.r=~~u(2,6),this.r2=2*this.r,this.replace()}return t.prototype.replace=function(){return this.opacity=0,this.dop=.03*u(1,4),this.x=u(-this.r2,w-this.r2),this.y=u(-20,h-this.r2),this.xmax=w-this.r,this.ymax=h-this.r,this.vx=u(0,2)+8*l-5,this.vy=.7*this.r+u(-1,1)},t.prototype.draw=function(){var e;return this.x+=this.vx,this.y+=this.vy,this.opacity+=this.dop,this.opacity>1&&(this.opacity=1,this.dop*=-1),(this.opacity<0||this.y>this.ymax)&&this.replace(),0<(e=this.x)&&e<this.xmax||(this.x=(this.x+this.xmax)%this.xmax),a(~~this.x,~~this.y,this.r,this.rgb+","+this.opacity+")")},t}(),r=function(){var e,i,o;for(o=[],c=e=1,i=n;i>=1?i>=e:e>=i;c=i>=1?++e:--e)o.push(new t);return o}(),window.step=function(){var e,t,n,i;for(requestAnimationFrame(step),s.clearRect(0,0,w,h),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.draw());return i},step()}).call(this)}function domloaded(){(function(){var e,t,n,i,o,r,s,a,c,u,d,l;n=350,e=[[85,71,106],[174,61,99],[219,56,83],[244,92,68],[248,182,70]],i=2*Math.PI,o=document.getElementById("world"),s=o.getContext("2d"),window.w=0,window.h=0,d=function(){return window.w=o.width=window.innerWidth,window.h=o.height=window.innerHeight},window.addEventListener("resize",d,!1),window.onload=function(){return setTimeout(d,0)},u=function(e,t){return(t-e)*Math.random()+e},a=function(e,t,n,o){return s.beginPath(),s.arc(e,t,n,0,i,!1),s.fillStyle=o,s.fill()},l=.5,document.onmousemove=function(e){return l=e.pageX/w},window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),t=function(){function t(){this.style=e[~~u(0,5)],this.rgb="rgba("+this.style[0]+","+this.style[1]+","+this.style[2],this.r=~~u(2,6),this.r2=2*this.r,this.replace()}return t.prototype.replace=function(){return this.opacity=0,this.dop=.03*u(1,4),this.x=u(-this.r2,w-this.r2),this.y=u(-20,h-this.r2),this.xmax=w-this.r,this.ymax=h-this.r,this.vx=u(0,2)+8*l-5,this.vy=.7*this.r+u(-1,1)},t.prototype.draw=function(){var e;return this.x+=this.vx,this.y+=this.vy,this.opacity+=this.dop,this.opacity>1&&(this.opacity=1,this.dop*=-1),(this.opacity<0||this.y>this.ymax)&&this.replace(),0<(e=this.x)&&e<this.xmax||(this.x=(this.x+this.xmax)%this.xmax),a(~~this.x,~~this.y,this.r,this.rgb+","+this.opacity+")")},t}(),r=function(){var e,i,o;for(o=[],c=e=1,i=n;i>=1?i>=e:e>=i;c=i>=1?++e:--e)o.push(new t);return o}(),window.step=function(){var e,t,n,i;for(requestAnimationFrame(step),s.clearRect(0,0,w,h),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.draw());return i},step()}).call(this)}function domloaded(){(function(){var e,t,n,i,o,r,s,a,c,u,d,l;n=350,e=[[85,71,106],[174,61,99],[219,56,83],[244,92,68],[248,182,70]],i=2*Math.PI,o=document.getElementById("world"),s=o.getContext("2d"),window.w=0,window.h=0,d=function(){return window.w=o.width=window.innerWidth,window.h=o.height=window.innerHeight},window.addEventListener("resize",d,!1),window.onload=function(){return setTimeout(d,0)},u=function(e,t){return(t-e)*Math.random()+e},a=function(e,t,n,o){return s.beginPath(),s.arc(e,t,n,0,i,!1),s.fillStyle=o,s.fill()},l=.5,document.onmousemove=function(e){return l=e.pageX/w},window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),t=function(){function t(){this.style=e[~~u(0,5)],this.rgb="rgba("+this.style[0]+","+this.style[1]+","+this.style[2],this.r=~~u(2,6),this.r2=2*this.r,this.replace()}return t.prototype.replace=function(){return this.opacity=0,this.dop=.03*u(1,4),this.x=u(-this.r2,w-this.r2),this.y=u(-20,h-this.r2),this.xmax=w-this.r,this.ymax=h-this.r,this.vx=u(0,2)+8*l-5,this.vy=.7*this.r+u(-1,1)},t.prototype.draw=function(){var e;return this.x+=this.vx,this.y+=this.vy,this.opacity+=this.dop,this.opacity>1&&(this.opacity=1,this.dop*=-1),(this.opacity<0||this.y>this.ymax)&&this.replace(),0<(e=this.x)&&e<this.xmax||(this.x=(this.x+this.xmax)%this.xmax),a(~~this.x,~~this.y,this.r,this.rgb+","+this.opacity+")")},t}(),r=function(){var e,i,o;for(o=[],c=e=1,i=n;i>=1?i>=e:e>=i;c=i>=1?++e:--e)o.push(new t);return o}(),window.step=function(){var e,t,n,i;for(requestAnimationFrame(step),s.clearRect(0,0,w,h),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.draw());return i},step()}).call(this)}function domloaded(){(function(){var e,t,n,i,o,r,s,a,c,u,d,l;n=350,e=[[85,71,106],[174,61,99],[219,56,83],[244,92,68],[248,182,70]],i=2*Math.PI,o=document.getElementById("world"),s=o.getContext("2d"),window.w=0,window.h=0,d=function(){return window.w=o.width=window.innerWidth,window.h=o.height=window.innerHeight},window.addEventListener("resize",d,!1),window.onload=function(){return setTimeout(d,0)},u=function(e,t){return(t-e)*Math.random()+e},a=function(e,t,n,o){return s.beginPath(),s.arc(e,t,n,0,i,!1),s.fillStyle=o,s.fill()},l=.5,document.onmousemove=function(e){return l=e.pageX/w},window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),t=function(){function t(){this.style=e[~~u(0,5)],this.rgb="rgba("+this.style[0]+","+this.style[1]+","+this.style[2],this.r=~~u(2,6),this.r2=2*this.r,this.replace()}return t.prototype.replace=function(){return this.opacity=0,this.dop=.03*u(1,4),this.x=u(-this.r2,w-this.r2),this.y=u(-20,h-this.r2),this.xmax=w-this.r,this.ymax=h-this.r,this.vx=u(0,2)+8*l-5,this.vy=.7*this.r+u(-1,1)},t.prototype.draw=function(){var e;return this.x+=this.vx,this.y+=this.vy,this.opacity+=this.dop,this.opacity>1&&(this.opacity=1,this.dop*=-1),(this.opacity<0||this.y>this.ymax)&&this.replace(),0<(e=this.x)&&e<this.xmax||(this.x=(this.x+this.xmax)%this.xmax),a(~~this.x,~~this.y,this.r,this.rgb+","+this.opacity+")")},t}(),r=function(){var e,i,o;for(o=[],c=e=1,i=n;i>=1?i>=e:e>=i;c=i>=1?++e:--e)o.push(new t);return o}(),window.step=function(){var e,t,n,i;for(requestAnimationFrame(step),s.clearRect(0,0,w,h),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.draw());return i},step()}).call(this)}function domloaded(){(function(){var e,t,n,i,o,r,s,a,c,u,d,l;n=350,e=[[85,71,106],[174,61,99],[219,56,83],[244,92,68],[248,182,70]],i=2*Math.PI,o=document.getElementById("world"),s=o.getContext("2d"),window.w=0,window.h=0,d=function(){return window.w=o.width=window.innerWidth,window.h=o.height=window.innerHeight},window.addEventListener("resize",d,!1),window.onload=function(){return setTimeout(d,0)},u=function(e,t){return(t-e)*Math.random()+e},a=function(e,t,n,o){return s.beginPath(),s.arc(e,t,n,0,i,!1),s.fillStyle=o,s.fill()},l=.5,document.onmousemove=function(e){return l=e.pageX/w},window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),t=function(){function t(){this.style=e[~~u(0,5)],this.rgb="rgba("+this.style[0]+","+this.style[1]+","+this.style[2],this.r=~~u(2,6),this.r2=2*this.r,this.replace()}return t.prototype.replace=function(){return this.opacity=0,this.dop=.03*u(1,4),this.x=u(-this.r2,w-this.r2),this.y=u(-20,h-this.r2),this.xmax=w-this.r,this.ymax=h-this.r,this.vx=u(0,2)+8*l-5,this.vy=.7*this.r+u(-1,1)},t.prototype.draw=function(){var e;return this.x+=this.vx,this.y+=this.vy,this.opacity+=this.dop,this.opacity>1&&(this.opacity=1,this.dop*=-1),(this.opacity<0||this.y>this.ymax)&&this.replace(),0<(e=this.x)&&e<this.xmax||(this.x=(this.x+this.xmax)%this.xmax),a(~~this.x,~~this.y,this.r,this.rgb+","+this.opacity+")")},t}(),r=function(){var e,i,o;for(o=[],c=e=1,i=n;i>=1?i>=e:e>=i;c=i>=1?++e:--e)o.push(new t);return o}(),window.step=function(){var e,t,n,i;for(requestAnimationFrame(step),s.clearRect(0,0,w,h),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.draw());return i},step()}).call(this)}function domloaded(){(function(){var e,t,n,i,o,r,s,a,c,u,d,l;n=350,e=[[85,71,106],[174,61,99],[219,56,83],[244,92,68],[248,182,70]],i=2*Math.PI,o=document.getElementById("world"),s=o.getContext("2d"),window.w=0,window.h=0,d=function(){return window.w=o.width=window.innerWidth,window.h=o.height=window.innerHeight},window.addEventListener("resize",d,!1),window.onload=function(){return setTimeout(d,0)},u=function(e,t){return(t-e)*Math.random()+e},a=function(e,t,n,o){return s.beginPath(),s.arc(e,t,n,0,i,!1),s.fillStyle=o,s.fill()},l=.5,document.onmousemove=function(e){return l=e.pageX/w},window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),t=function(){function t(){this.style=e[~~u(0,5)],this.rgb="rgba("+this.style[0]+","+this.style[1]+","+this.style[2],this.r=~~u(2,6),this.r2=2*this.r,this.replace()}return t.prototype.replace=function(){return this.opacity=0,this.dop=.03*u(1,4),this.x=u(-this.r2,w-this.r2),this.y=u(-20,h-this.r2),this.xmax=w-this.r,this.ymax=h-this.r,this.vx=u(0,2)+8*l-5,this.vy=.7*this.r+u(-1,1)},t.prototype.draw=function(){var e;return this.x+=this.vx,this.y+=this.vy,this.opacity+=this.dop,this.opacity>1&&(this.opacity=1,this.dop*=-1),(this.opacity<0||this.y>this.ymax)&&this.replace(),0<(e=this.x)&&e<this.xmax||(this.x=(this.x+this.xmax)%this.xmax),a(~~this.x,~~this.y,this.r,this.rgb+","+this.opacity+")")},t}(),r=function(){var e,i,o;for(o=[],c=e=1,i=n;i>=1?i>=e:e>=i;c=i>=1?++e:--e)o.push(new t);return o}(),window.step=function(){var e,t,n,i;for(requestAnimationFrame(step),s.clearRect(0,0,w,h),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.draw());return i},step()}).call(this)}function domloaded(){(function(){var e,t,n,i,o,r,s,a,c,u,d,l;n=350,e=[[85,71,106],[174,61,99],[219,56,83],[244,92,68],[248,182,70]],i=2*Math.PI,o=document.getElementById("world"),s=o.getContext("2d"),window.w=0,window.h=0,d=function(){return window.w=o.width=window.innerWidth,window.h=o.height=window.innerHeight},window.addEventListener("resize",d,!1),window.onload=function(){return setTimeout(d,0)},u=function(e,t){return(t-e)*Math.random()+e},a=function(e,t,n,o){return s.beginPath(),s.arc(e,t,n,0,i,!1),s.fillStyle=o,s.fill()},l=.5,document.onmousemove=function(e){return l=e.pageX/w},window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),t=function(){function t(){this.style=e[~~u(0,5)],this.rgb="rgba("+this.style[0]+","+this.style[1]+","+this.style[2],this.r=~~u(2,6),this.r2=2*this.r,this.replace()}return t.prototype.replace=function(){return this.opacity=0,this.dop=.03*u(1,4),this.x=u(-this.r2,w-this.r2),this.y=u(-20,h-this.r2),this.xmax=w-this.r,this.ymax=h-this.r,this.vx=u(0,2)+8*l-5,this.vy=.7*this.r+u(-1,1)},t.prototype.draw=function(){var e;return this.x+=this.vx,this.y+=this.vy,this.opacity+=this.dop,this.opacity>1&&(this.opacity=1,this.dop*=-1),(this.opacity<0||this.y>this.ymax)&&this.replace(),0<(e=this.x)&&e<this.xmax||(this.x=(this.x+this.xmax)%this.xmax),a(~~this.x,~~this.y,this.r,this.rgb+","+this.opacity+")")},t}(),r=function(){var e,i,o;for(o=[],c=e=1,i=n;i>=1?i>=e:e>=i;c=i>=1?++e:--e)o.push(new t);return o}(),window.step=function(){var e,t,n,i;for(requestAnimationFrame(step),s.clearRect(0,0,w,h),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.draw());return i},step()}).call(this)}function domloaded(){(function(){var e,t,n,i,o,r,s,a,c,u,d,l;n=350,e=[[85,71,106],[174,61,99],[219,56,83],[244,92,68],[248,182,70]],i=2*Math.PI,o=document.getElementById("world"),s=o.getContext("2d"),window.w=0,window.h=0,d=function(){return window.w=o.width=window.innerWidth,window.h=o.height=window.innerHeight},window.addEventListener("resize",d,!1),window.onload=function(){return setTimeout(d,0)},u=function(e,t){return(t-e)*Math.random()+e},a=function(e,t,n,o){return s.beginPath(),s.arc(e,t,n,0,i,!1),s.fillStyle=o,s.fill()},l=.5,document.onmousemove=function(e){return l=e.pageX/w},window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),t=function(){function t(){this.style=e[~~u(0,5)],this.rgb="rgba("+this.style[0]+","+this.style[1]+","+this.style[2],this.r=~~u(2,6),this.r2=2*this.r,this.replace()}return t.prototype.replace=function(){return this.opacity=0,this.dop=.03*u(1,4),this.x=u(-this.r2,w-this.r2),this.y=u(-20,h-this.r2),this.xmax=w-this.r,this.ymax=h-this.r,this.vx=u(0,2)+8*l-5,this.vy=.7*this.r+u(-1,1)},t.prototype.draw=function(){var e;return this.x+=this.vx,this.y+=this.vy,this.opacity+=this.dop,this.opacity>1&&(this.opacity=1,this.dop*=-1),(this.opacity<0||this.y>this.ymax)&&this.replace(),0<(e=this.x)&&e<this.xmax||(this.x=(this.x+this.xmax)%this.xmax),a(~~this.x,~~this.y,this.r,this.rgb+","+this.opacity+")")},t}(),r=function(){var e,i,o;for(o=[],c=e=1,i=n;i>=1?i>=e:e>=i;c=i>=1?++e:--e)o.push(new t);return o}(),window.step=function(){var e,t,n,i;for(requestAnimationFrame(step),s.clearRect(0,0,w,h),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.draw());return i},step()}).call(this)}document.addEventListener("DOMContentLoaded",domloaded,!1),$(document).ready(function(){$(".nav-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".nav-popover").on("mouseleave",function(e){$(this).popover("hide")}),$(".btn-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".btn-popover").on("mouseleave",function(e){$(this).popover("hide")})}),document.addEventListener("DOMContentLoaded",domloaded,!1),$(document).ready(function(){$(".nav-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".nav-popover").on("mouseleave",function(e){$(this).popover("hide")}),$(".btn-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".btn-popover").on("mouseleave",function(e){$(this).popover("hide")})}),document.addEventListener("DOMContentLoaded",domloaded,!1),$(document).ready(function(){$(".nav-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".nav-popover").on("mouseleave",function(e){$(this).popover("hide")}),$(".btn-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".btn-popover").on("mouseleave",function(e){$(this).popover("hide")})}),document.addEventListener("DOMContentLoaded",domloaded,!1),
$(document).ready(function(){$(".nav-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".nav-popover").on("mouseleave",function(e){$(this).popover("hide")}),$(".btn-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".btn-popover").on("mouseleave",function(e){$(this).popover("hide")})}),angular.module("SnipeGo",["SnipeGo.Directives.Popover","SnipeGo.Directives.ToggleClass","SnipeGo.MainCtrl","SnipeGo.NavCtrl","SnipeGo.DepositCtrl","SnipeGo.Services","ui.router","firebase","angular-svg-round-progress","irontec.simpleChat","ngAnimate"]).config(function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("main",{url:"/",views:{"":{templateUrl:"js/template/main.html",controller:"MainCtrl"},nav:{templateUrl:"js/template/nav.html",controller:"NavCtrl"}}})}),angular.module("SnipeGo",["SnipeGo.Directives.Popover","SnipeGo.Directives.ToggleClass","SnipeGo.MainCtrl","SnipeGo.NavCtrl","SnipeGo.DepositCtrl","SnipeGo.Services","ui.router","firebase","angular-svg-round-progress","irontec.simpleChat","ngAnimate"]).config(function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("main",{url:"/",views:{"":{templateUrl:"js/template/main.html",controller:"MainCtrl"},nav:{templateUrl:"js/template/nav.html",controller:"NavCtrl"}}})}),angular.module("SnipeGo.DepositCtrl",["SnipeGo","SnipeGo.Services"]).controller("DepositCtrl",["$scope","$http","$rootScope","$window","$firebaseObject",function($scope,$http,$rootScope,$window,$firebaseObject){var userRef=new Firebase("https://snipego.firebaseio.com/users");$scope.users=$firebaseObject(userRef);var depositData=function(){return{tradeUrl:$rootScope.user.tradeUrl,displayName:$rootScope.user.displayName,avatar:$rootScope.user.photos[1],id:$rootScope.user.id,items:$scope.selectedItems,itemsValue:$scope.totalValue(),itemsCount:$rootScope.itemsSelected}};$scope.inventoryLoading=!1,$scope.loadingTrade=!1,$scope.items=[],$scope.selectedItems={},$scope.tradeID="",$scope.protectionCode="",$scope.users.$watch(function(){$scope.users.$loaded().then(function(){$scope.returnID()})}),$scope.returnID=function(){void 0!==$scope.users[$rootScope.user.id].tradeID&&void 0!==$scope.users[$rootScope.user.id].protectionCode&&($scope.loadingTrade=!1,$scope.tradeID=$scope.users[$rootScope.user.id].tradeID,$scope.protectionCode=$scope.users[$rootScope.user.id].protectionCode)},$scope.selectedQuantity=function(){return $rootScope.itemsSelected=Object.keys($scope.selectedItems).length," "+$rootScope.itemsSelected+" Skins"},$scope.totalValue=function(){var num=0;for(var key in $scope.selectedItems)num+=parseFloat($scope.selectedItems[key].market_price);return Math.round(100*num)/100},$scope.selectItem=function(item){$scope.selectedItems[item.assetid]?delete $scope.selectedItems[item.assetid]:10===$rootScope.itemsSelected?$window.alert("You can't add more than 10 items"):$scope.selectedItems[item.assetid]=item},$scope.depositItems=function(){0===$rootScope.itemsSelected&&$window.alert("Please select at least one skin to deposit"),$scope.loadingTrade=!0,$http.post("/deposit/",depositData()).success(function(resp){$scope.selectedItems={},$scope.items=[]})},$scope.sortItems=function(resp){$scope.items=resp.sort(function(a,b){return b.market_price-a.market_price}),$scope.inventoryLoading=!1},$scope.fetchInventory=function(){$scope.items=[],$scope.inventoryLoading?$window.alert("Your inventory is already loading, please be patient"):($scope.inventoryLoading=!0,$http.post("/users/update-inventory",{steamid:$rootScope.user.id}).success(function(resp){$scope.sortItems(resp)}))}}]),angular.module("SnipeGo.MainCtrl",["SnipeGo"]).controller("MainCtrl",["$scope","$firebaseArray","$firebaseObject","$rootScope","$window","$http",function($scope,$firebaseArray,$firebaseObject,$rootScope,$window,$http){var messagesRef=new Firebase("https://snipego.firebaseio.com/messages"),currentJackpotRef=new Firebase("https://snipego.firebaseio.com/currentJackpot"),endedJackpotRef=new Firebase("https://snipego.firebaseio.com/endedJackpots"),messagesQuery=messagesRef.orderByChild("timestamp").limitToLast(10);$scope.visible=!0,$scope.expandOnNew=!0,$scope.messages=$firebaseArray(messagesQuery),$scope.currentJackpot=$firebaseObject(currentJackpotRef),$scope.endedJackpots=$firebaseArray(endedJackpotRef),$scope.ended=[],$scope.currentJackpot.$watch(function(){$scope.currentJackpot.$loaded().then(function(){var players=[];for(var key in $scope.currentJackpot.players)$scope.currentJackpot.players[key].chance=($scope.currentJackpot.players[key].itemsValue/$scope.currentJackpot.jackpotValue*100).toFixed(2),players.push($scope.currentJackpot.players[key]);$scope.currentJackpot.players=$scope.currentJackpot.players.reverse(),$scope.currentJackpot.jackpotValue=$scope.currentJackpot.jackpotValue.toFixed(2)})}),$scope.endedJackpots.$watch(function(){$scope.endedJackpots.$loaded().then(function(){$scope.ended=$scope.endedJackpots.slice(-3).reverse();for(var i=0;i<$scope.ended.length;i++){for(var j=0;j<$scope.ended[i].players.length;j++)$scope.ended[i].players[j].chance=($scope.ended[i].players[j].itemsValue/$scope.ended[i].jackpotValue*100).toFixed(2);$scope.ended[i].players=$scope.ended[i].players.reverse()}})}),$scope.getStyle=function(){var transform="translateY(-50%) translateX(-50%)";return{top:"35%",bottom:"auto",left:"50%",transform:transform,"-moz-transform":transform,"-webkit-transform":transform,"font-size":"65px"}},$scope.sendMessage=function(message){message&&""!==message&&$rootScope.user?$http.post("/users/messages",{username:$rootScope.user.photos[0],content:message}):$window.alert("Please sign in to send a message or try again later.")}}]),angular.module("SnipeGo.NavCtrl",["SnipeGo","SnipeGo.Services"]).controller("NavCtrl",["$scope","$rootScope","Auth","$http",function($scope,$rootScope,Auth,$http){$scope.successDanger="danger",$scope.isAuth=!1,$scope.tradeUrlSuccess=!1,$scope.profilePic="",$scope.tradeUrl="Add trade URL to unlock jackpot deposits",$scope.playDestination="#tradeurl",$scope.updateTradeUrl=function(){$scope.tradeUrl.match(/partner/i)&&$scope.tradeUrl.match(/token/i)?$http.post("/users/update-trade-url",{tradeUrl:$scope.tradeUrl}).success(function(resp){$scope.successDanger="success",$scope.playDestination="#deposit",$scope.tradeUrlSuccess=!0}):$scope.tradeUrl="Invalid trade Url, please try again"},$scope.clearPlaceholder=function(){$scope.tradeUrl=""},$scope.checkAuth=function(){Auth.checkSession().success(function(resp){resp&&($scope.profilePic=resp.photos[1],$scope.isAuth=!0,$rootScope.user=resp,resp.tradeUrl&&($scope.successDanger="success",$scope.playDestination="#deposit"))})},$scope.checkAuth()}]),angular.module("SnipeGo.Directives.Popover",["SnipeGo"]).directive("popover",function(){return function(scope,element,attrs){element.find("[rel=popover]").popover({placement:"bottom",html:"true"})}}),angular.module("SnipeGo.Directives.ToggleClass",["SnipeGo"]).directive("toggleClass",function($rootScope){return{restrict:"A",link:function(scope,elem,attrs){$(elem).click(function(){$rootScope.itemsSelected<10?$(elem).toggleClass("highlightSelected"):$(elem).removeClass("highlightSelected")})}}}),angular.module("SnipeGo.Services",["SnipeGo"]).factory("Auth",["$http",function($http){var checkSession=function(){return $http.get("/auth/is-authenticated")};return{checkSession:checkSession}}]),document.addEventListener("DOMContentLoaded",domloaded,!1),$(document).ready(function(){$(".nav-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".nav-popover").on("mouseleave",function(e){$(this).popover("hide")}),$(".btn-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".btn-popover").on("mouseleave",function(e){$(this).popover("hide")})}),document.addEventListener("DOMContentLoaded",domloaded,!1),$(document).ready(function(){$(".nav-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".nav-popover").on("mouseleave",function(e){$(this).popover("hide")}),$(".btn-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".btn-popover").on("mouseleave",function(e){$(this).popover("hide")})}),document.addEventListener("DOMContentLoaded",domloaded,!1),$(document).ready(function(){$(".nav-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".nav-popover").on("mouseleave",function(e){$(this).popover("hide")}),$(".btn-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".btn-popover").on("mouseleave",function(e){$(this).popover("hide")})}),document.addEventListener("DOMContentLoaded",domloaded,!1),$(document).ready(function(){$(".nav-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".nav-popover").on("mouseleave",function(e){$(this).popover("hide")}),$(".btn-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".btn-popover").on("mouseleave",function(e){$(this).popover("hide")})}),angular.module("SnipeGo",["SnipeGo.Directives.Popover","SnipeGo.Directives.ToggleClass","SnipeGo.MainCtrl","SnipeGo.NavCtrl","SnipeGo.DepositCtrl","SnipeGo.Services","ui.router","firebase","angular-svg-round-progress","irontec.simpleChat","ngAnimate"]).config(function(e,t){t.otherwise("/"),e.state("main",{url:"/",views:{"":{templateUrl:"js/template/main.html",controller:"MainCtrl"},nav:{templateUrl:"js/template/nav.html",controller:"NavCtrl"}}})}),angular.module("SnipeGo",["SnipeGo.Directives.Popover","SnipeGo.Directives.ToggleClass","SnipeGo.MainCtrl","SnipeGo.NavCtrl","SnipeGo.DepositCtrl","SnipeGo.Services","ui.router","firebase","angular-svg-round-progress","irontec.simpleChat","ngAnimate"]).config(function(e,t){t.otherwise("/"),e.state("main",{url:"/",views:{"":{templateUrl:"js/template/main.html",controller:"MainCtrl"},nav:{templateUrl:"js/template/nav.html",controller:"NavCtrl"}}})}),angular.module("SnipeGo.DepositCtrl",["SnipeGo","SnipeGo.Services"]).controller("DepositCtrl",["$scope","$http","$rootScope","$window","$firebaseObject",function(e,t,n,i,o){var r=new Firebase("https://snipego.firebaseio.com/users");e.users=o(r);var s=function(){return{tradeUrl:n.user.tradeUrl,displayName:n.user.displayName,avatar:n.user.photos[1],id:n.user.id,items:e.selectedItems,itemsValue:e.totalValue(),itemsCount:n.itemsSelected}};e.inventoryLoading=!1,e.loadingTrade=!1,e.items=[],e.selectedItems={},e.tradeID="",e.protectionCode="",e.users.$watch(function(){e.users.$loaded().then(function(){e.returnID()})}),e.returnID=function(){void 0!==e.users[n.user.id].tradeID&&void 0!==e.users[n.user.id].protectionCode&&(e.loadingTrade=!1,e.tradeID=e.users[n.user.id].tradeID,e.protectionCode=e.users[n.user.id].protectionCode)},e.selectedQuantity=function(){return n.itemsSelected=Object.keys(e.selectedItems).length," "+n.itemsSelected+" Skins"},e.totalValue=function(){var t=0;for(var n in e.selectedItems)t+=parseFloat(e.selectedItems[n].market_price);return Math.round(100*t)/100},e.selectItem=function(t){e.selectedItems[t.assetid]?delete e.selectedItems[t.assetid]:10===n.itemsSelected?i.alert("You can't add more than 10 items"):e.selectedItems[t.assetid]=t},e.depositItems=function(){0===n.itemsSelected&&i.alert("Please select at least one skin to deposit"),e.loadingTrade=!0,t.post("/deposit/",s()).success(function(t){e.selectedItems={},e.items=[]})},e.sortItems=function(t){e.items=t.sort(function(e,t){return t.market_price-e.market_price}),e.inventoryLoading=!1},e.fetchInventory=function(){e.items=[],e.inventoryLoading?i.alert("Your inventory is already loading, please be patient"):(e.inventoryLoading=!0,t.post("/users/update-inventory",{steamid:n.user.id}).success(function(t){e.sortItems(t)}))}}]),angular.module("SnipeGo.MainCtrl",["SnipeGo"]).controller("MainCtrl",["$scope","$firebaseArray","$firebaseObject","$rootScope","$window","$http",function(e,t,n,i,o,r){var s=new Firebase("https://snipego.firebaseio.com/messages"),a=new Firebase("https://snipego.firebaseio.com/currentJackpot"),c=new Firebase("https://snipego.firebaseio.com/endedJackpots"),u=s.orderByChild("timestamp").limitToLast(10);e.visible=!0,e.expandOnNew=!0,e.messages=t(u),e.currentJackpot=n(a),e.endedJackpots=t(c),e.ended=[],e.currentJackpot.$watch(function(){e.currentJackpot.$loaded().then(function(){var t=[];for(var n in e.currentJackpot.players)e.currentJackpot.players[n].chance=(e.currentJackpot.players[n].itemsValue/e.currentJackpot.jackpotValue*100).toFixed(2),t.push(e.currentJackpot.players[n]);e.currentJackpot.players=e.currentJackpot.players.reverse(),e.currentJackpot.jackpotValue=e.currentJackpot.jackpotValue.toFixed(2)})}),e.endedJackpots.$watch(function(){e.endedJackpots.$loaded().then(function(){e.ended=e.endedJackpots.slice(-3).reverse();for(var t=0;t<e.ended.length;t++){for(var n=0;n<e.ended[t].players.length;n++)e.ended[t].players[n].chance=(e.ended[t].players[n].itemsValue/e.ended[t].jackpotValue*100).toFixed(2);e.ended[t].players=e.ended[t].players.reverse()}})}),e.getStyle=function(){var e="translateY(-50%) translateX(-50%)";return{top:"35%",bottom:"auto",left:"50%",transform:e,"-moz-transform":e,"-webkit-transform":e,"font-size":"65px"}},e.sendMessage=function(e){e&&""!==e&&i.user?r.post("/users/messages",{username:i.user.photos[0],content:e}):o.alert("Please sign in to send a message or try again later.")}}]),angular.module("SnipeGo.NavCtrl",["SnipeGo","SnipeGo.Services"]).controller("NavCtrl",["$scope","$rootScope","Auth","$http",function(e,t,n,i){e.successDanger="danger",e.isAuth=!1,e.tradeUrlSuccess=!1,e.profilePic="",e.tradeUrl="Add trade URL to unlock jackpot deposits",e.playDestination="#tradeurl",e.updateTradeUrl=function(){e.tradeUrl.match(/partner/i)&&e.tradeUrl.match(/token/i)?i.post("/users/update-trade-url",{tradeUrl:e.tradeUrl}).success(function(t){e.successDanger="success",e.playDestination="#deposit",e.tradeUrlSuccess=!0}):e.tradeUrl="Invalid trade Url, please try again"},e.clearPlaceholder=function(){e.tradeUrl=""},e.checkAuth=function(){n.checkSession().success(function(n){n&&(e.profilePic=n.photos[1],e.isAuth=!0,t.user=n,n.tradeUrl&&(e.successDanger="success",e.playDestination="#deposit"))})},e.checkAuth()}]),angular.module("SnipeGo.Directives.Popover",["SnipeGo"]).directive("popover",function(){return function(e,t,n){t.find("[rel=popover]").popover({placement:"bottom",html:"true"})}}),angular.module("SnipeGo.Directives.ToggleClass",["SnipeGo"]).directive("toggleClass",function(e){return{restrict:"A",link:function(t,n,i){$(n).click(function(){e.itemsSelected<10?$(n).toggleClass("highlightSelected"):$(n).removeClass("highlightSelected")})}}}),angular.module("SnipeGo.Services",["SnipeGo"]).factory("Auth",["$http",function(e){var t=function(){return e.get("/auth/is-authenticated")};return{checkSession:t}}]),document.addEventListener("DOMContentLoaded",domloaded,!1),$(document).ready(function(){$(".nav-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".nav-popover").on("mouseleave",function(e){$(this).popover("hide")}),$(".btn-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".btn-popover").on("mouseleave",function(e){$(this).popover("hide")})}),document.addEventListener("DOMContentLoaded",domloaded,!1),$(document).ready(function(){$(".nav-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".nav-popover").on("mouseleave",function(e){$(this).popover("hide")}),$(".btn-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".btn-popover").on("mouseleave",function(e){$(this).popover("hide")})}),document.addEventListener("DOMContentLoaded",domloaded,!1),$(document).ready(function(){$(".nav-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".nav-popover").on("mouseleave",function(e){$(this).popover("hide")}),$(".btn-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".btn-popover").on("mouseleave",function(e){$(this).popover("hide")})}),document.addEventListener("DOMContentLoaded",domloaded,!1),$(document).ready(function(){$(".nav-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".nav-popover").on("mouseleave",function(e){$(this).popover("hide")}),$(".btn-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".btn-popover").on("mouseleave",function(e){$(this).popover("hide")})}),angular.module("SnipeGo",["SnipeGo.Directives.Popover","SnipeGo.Directives.ToggleClass","SnipeGo.MainCtrl","SnipeGo.NavCtrl","SnipeGo.DepositCtrl","SnipeGo.Services","ui.router","firebase","angular-svg-round-progress","irontec.simpleChat","ngAnimate"]).config(function(e,t){t.otherwise("/"),e.state("main",{url:"/",views:{"":{templateUrl:"js/template/main.html",controller:"MainCtrl"},nav:{templateUrl:"js/template/nav.html",controller:"NavCtrl"}}})}),angular.module("SnipeGo",["SnipeGo.Directives.Popover","SnipeGo.Directives.ToggleClass","SnipeGo.MainCtrl","SnipeGo.NavCtrl","SnipeGo.DepositCtrl","SnipeGo.Services","ui.router","firebase","angular-svg-round-progress","irontec.simpleChat","ngAnimate"]).config(function(e,t){t.otherwise("/"),e.state("main",{url:"/",views:{"":{templateUrl:"js/template/main.html",controller:"MainCtrl"},nav:{templateUrl:"js/template/nav.html",controller:"NavCtrl"}}})}),angular.module("SnipeGo.DepositCtrl",["SnipeGo","SnipeGo.Services"]).controller("DepositCtrl",["$scope","$http","$rootScope","$window","$firebaseObject",function(e,t,n,i,o){var r=new Firebase("https://snipego.firebaseio.com/users");e.users=o(r);var s=function(){return{tradeUrl:n.user.tradeUrl,displayName:n.user.displayName,avatar:n.user.photos[1],id:n.user.id,items:e.selectedItems,itemsValue:e.totalValue(),itemsCount:n.itemsSelected}};e.inventoryLoading=!1,e.loadingTrade=!1,e.items=[],e.selectedItems={},e.tradeID="",e.protectionCode="",e.users.$watch(function(){e.users.$loaded().then(function(){e.returnID()})}),e.returnID=function(){void 0!==e.users[n.user.id].tradeID&&void 0!==e.users[n.user.id].protectionCode&&(e.loadingTrade=!1,e.tradeID=e.users[n.user.id].tradeID,e.protectionCode=e.users[n.user.id].protectionCode)},e.selectedQuantity=function(){return n.itemsSelected=Object.keys(e.selectedItems).length," "+n.itemsSelected+" Skins"},e.totalValue=function(){var t=0;for(var n in e.selectedItems)t+=parseFloat(e.selectedItems[n].market_price);return Math.round(100*t)/100},e.selectItem=function(t){e.selectedItems[t.assetid]?delete e.selectedItems[t.assetid]:10===n.itemsSelected?i.alert("You can't add more than 10 items"):e.selectedItems[t.assetid]=t},e.depositItems=function(){0===n.itemsSelected&&i.alert("Please select at least one skin to deposit"),e.loadingTrade=!0,t.post("/deposit/",s()).success(function(t){e.selectedItems={},e.items=[]})},e.sortItems=function(t){e.items=t.sort(function(e,t){return t.market_price-e.market_price}),e.inventoryLoading=!1},e.fetchInventory=function(){e.items=[],e.inventoryLoading?i.alert("Your inventory is already loading, please be patient"):(e.inventoryLoading=!0,t.post("/users/update-inventory",{steamid:n.user.id}).success(function(t){e.sortItems(t)}))}}]),angular.module("SnipeGo.MainCtrl",["SnipeGo"]).controller("MainCtrl",["$scope","$firebaseArray","$firebaseObject","$rootScope","$window","$http",function(e,t,n,i,o,r){var s=new Firebase("https://snipego.firebaseio.com/messages"),a=new Firebase("https://snipego.firebaseio.com/currentJackpot"),c=new Firebase("https://snipego.firebaseio.com/endedJackpots"),u=s.orderByChild("timestamp").limitToLast(10);e.visible=!0,e.expandOnNew=!0,e.messages=t(u),e.currentJackpot=n(a),e.endedJackpots=t(c),e.ended=[],e.currentJackpot.$watch(function(){e.currentJackpot.$loaded().then(function(){var t=[];for(var n in e.currentJackpot.players)e.currentJackpot.players[n].chance=(e.currentJackpot.players[n].itemsValue/e.currentJackpot.jackpotValue*100).toFixed(2),t.push(e.currentJackpot.players[n]);e.currentJackpot.players=e.currentJackpot.players.reverse(),e.currentJackpot.jackpotValue=e.currentJackpot.jackpotValue.toFixed(2)})}),e.endedJackpots.$watch(function(){e.endedJackpots.$loaded().then(function(){e.ended=e.endedJackpots.slice(-3).reverse();for(var t=0;t<e.ended.length;t++){for(var n=0;n<e.ended[t].players.length;n++)e.ended[t].players[n].chance=(e.ended[t].players[n].itemsValue/e.ended[t].jackpotValue*100).toFixed(2);e.ended[t].players=e.ended[t].players.reverse()}})}),e.getStyle=function(){var e="translateY(-50%) translateX(-50%)";return{top:"35%",bottom:"auto",left:"50%",transform:e,"-moz-transform":e,"-webkit-transform":e,"font-size":"65px"}},e.sendMessage=function(e){e&&""!==e&&i.user?r.post("/users/messages",{username:i.user.photos[0],content:e}):o.alert("Please sign in to send a message or try again later.")}}]),angular.module("SnipeGo.NavCtrl",["SnipeGo","SnipeGo.Services"]).controller("NavCtrl",["$scope","$rootScope","Auth","$http",function(e,t,n,i){e.successDanger="danger",e.isAuth=!1,e.tradeUrlSuccess=!1,e.profilePic="",e.tradeUrl="Add trade URL to unlock jackpot deposits",e.playDestination="#tradeurl",e.updateTradeUrl=function(){e.tradeUrl.match(/partner/i)&&e.tradeUrl.match(/token/i)?i.post("/users/update-trade-url",{tradeUrl:e.tradeUrl}).success(function(t){e.successDanger="success",e.playDestination="#deposit",e.tradeUrlSuccess=!0}):e.tradeUrl="Invalid trade Url, please try again"},e.clearPlaceholder=function(){e.tradeUrl=""},e.checkAuth=function(){n.checkSession().success(function(n){n&&(e.profilePic=n.photos[1],e.isAuth=!0,t.user=n,n.tradeUrl&&(e.successDanger="success",e.playDestination="#deposit"))})},e.checkAuth()}]),angular.module("SnipeGo.Directives.Popover",["SnipeGo"]).directive("popover",function(){return function(e,t,n){t.find("[rel=popover]").popover({placement:"bottom",html:"true"})}}),angular.module("SnipeGo.Directives.ToggleClass",["SnipeGo"]).directive("toggleClass",function(e){return{restrict:"A",link:function(t,n,i){$(n).click(function(){e.itemsSelected<10?$(n).toggleClass("highlightSelected"):$(n).removeClass("highlightSelected")})}}}),angular.module("SnipeGo.Services",["SnipeGo"]).factory("Auth",["$http",function(e){var t=function(){return e.get("/auth/is-authenticated")};return{checkSession:t}}]),document.addEventListener("DOMContentLoaded",domloaded,!1),$(document).ready(function(){$(".nav-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".nav-popover").on("mouseleave",function(e){$(this).popover("hide")}),$(".btn-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".btn-popover").on("mouseleave",function(e){$(this).popover("hide")})}),document.addEventListener("DOMContentLoaded",domloaded,!1),$(document).ready(function(){$(".nav-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".nav-popover").on("mouseleave",function(e){$(this).popover("hide")}),$(".btn-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".btn-popover").on("mouseleave",function(e){$(this).popover("hide")})}),document.addEventListener("DOMContentLoaded",domloaded,!1),$(document).ready(function(){$(".nav-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".nav-popover").on("mouseleave",function(e){$(this).popover("hide")}),$(".btn-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".btn-popover").on("mouseleave",function(e){$(this).popover("hide")})}),document.addEventListener("DOMContentLoaded",domloaded,!1),$(document).ready(function(){$(".nav-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".nav-popover").on("mouseleave",function(e){$(this).popover("hide")}),$(".btn-popover").on("mouseenter",function(e){$(this).popover("show")}),$(".btn-popover").on("mouseleave",function(e){$(this).popover("hide")})}),angular.module("SnipeGo",["SnipeGo.Directives.Popover","SnipeGo.Directives.ToggleClass","SnipeGo.MainCtrl","SnipeGo.NavCtrl","SnipeGo.DepositCtrl","SnipeGo.Services","ui.router","firebase","angular-svg-round-progress","irontec.simpleChat","ngAnimate"]).config(function(e,t){t.otherwise("/"),e.state("main",{url:"/",views:{"":{templateUrl:"js/template/main.html",controller:"MainCtrl"},nav:{templateUrl:"js/template/nav.html",controller:"NavCtrl"}}})}),angular.module("SnipeGo",["SnipeGo.Directives.Popover","SnipeGo.Directives.ToggleClass","SnipeGo.MainCtrl","SnipeGo.NavCtrl","SnipeGo.DepositCtrl","SnipeGo.Services","ui.router","firebase","angular-svg-round-progress","irontec.simpleChat","ngAnimate"]).config(function(e,t){t.otherwise("/"),e.state("main",{url:"/",views:{"":{templateUrl:"js/template/main.html",controller:"MainCtrl"},nav:{templateUrl:"js/template/nav.html",controller:"NavCtrl"}}})}),angular.module("SnipeGo.DepositCtrl",["SnipeGo","SnipeGo.Services"]).controller("DepositCtrl",["$scope","$http","$rootScope","$window","$firebaseObject",function(e,t,n,i,o){var r=new Firebase("https://snipego.firebaseio.com/users");e.users=o(r);var s=function(){return{tradeUrl:n.user.tradeUrl,displayName:n.user.displayName,avatar:n.user.photos[1],id:n.user.id,items:e.selectedItems,itemsValue:e.totalValue(),itemsCount:n.itemsSelected}};e.inventoryLoading=!1,e.loadingTrade=!1,e.items=[],e.selectedItems={},e.tradeID="",e.protectionCode="",e.users.$watch(function(){e.users.$loaded().then(function(){e.returnID()})}),e.returnID=function(){void 0!==e.users[n.user.id].tradeID&&void 0!==e.users[n.user.id].protectionCode&&(e.loadingTrade=!1,e.tradeID=e.users[n.user.id].tradeID,e.protectionCode=e.users[n.user.id].protectionCode)},e.selectedQuantity=function(){return n.itemsSelected=Object.keys(e.selectedItems).length," "+n.itemsSelected+" Skins"},e.totalValue=function(){var t=0;for(var n in e.selectedItems)t+=parseFloat(e.selectedItems[n].market_price);return Math.round(100*t)/100},e.selectItem=function(t){e.selectedItems[t.assetid]?delete e.selectedItems[t.assetid]:10===n.itemsSelected?i.alert("You can't add more than 10 items"):e.selectedItems[t.assetid]=t},e.depositItems=function(){0===n.itemsSelected&&i.alert("Please select at least one skin to deposit"),e.loadingTrade=!0,t.post("/deposit/",s()).success(function(t){e.selectedItems={},e.items=[]})},e.sortItems=function(t){e.items=t.sort(function(e,t){return t.market_price-e.market_price}),e.inventoryLoading=!1},e.fetchInventory=function(){e.items=[],e.inventoryLoading?i.alert("Your inventory is already loading, please be patient"):(e.inventoryLoading=!0,t.post("/users/update-inventory",{steamid:n.user.id}).success(function(t){e.sortItems(t)}))}}]),angular.module("SnipeGo.MainCtrl",["SnipeGo"]).controller("MainCtrl",["$scope","$firebaseArray","$firebaseObject","$rootScope","$window","$http",function(e,t,n,i,o,r){var s=new Firebase("https://snipego.firebaseio.com/messages"),a=new Firebase("https://snipego.firebaseio.com/currentJackpot"),c=new Firebase("https://snipego.firebaseio.com/endedJackpots"),u=s.orderByChild("timestamp").limitToLast(10);e.visible=!0,e.expandOnNew=!0,e.messages=t(u),e.currentJackpot=n(a),e.endedJackpots=t(c),e.ended=[],e.currentJackpot.$watch(function(){e.currentJackpot.$loaded().then(function(){var t=[];for(var n in e.currentJackpot.players)e.currentJackpot.players[n].chance=(e.currentJackpot.players[n].itemsValue/e.currentJackpot.jackpotValue*100).toFixed(2),t.push(e.currentJackpot.players[n]);e.currentJackpot.players=e.currentJackpot.players.reverse(),e.currentJackpot.jackpotValue=e.currentJackpot.jackpotValue.toFixed(2)})}),e.endedJackpots.$watch(function(){e.endedJackpots.$loaded().then(function(){e.ended=e.endedJackpots.slice(-3).reverse();for(var t=0;t<e.ended.length;t++){for(var n=0;n<e.ended[t].players.length;n++)e.ended[t].players[n].chance=(e.ended[t].players[n].itemsValue/e.ended[t].jackpotValue*100).toFixed(2);e.ended[t].players=e.ended[t].players.reverse()}})}),e.getStyle=function(){var e="translateY(-50%) translateX(-50%)";return{top:"35%",bottom:"auto",left:"50%",transform:e,"-moz-transform":e,"-webkit-transform":e,"font-size":"65px"}},e.sendMessage=function(e){e&&""!==e&&i.user?r.post("/users/messages",{username:i.user.photos[0],content:e}):o.alert("Please sign in to send a message or try again later.")}}]),angular.module("SnipeGo.NavCtrl",["SnipeGo","SnipeGo.Services"]).controller("NavCtrl",["$scope","$rootScope","Auth","$http",function(e,t,n,i){e.successDanger="danger",e.isAuth=!1,e.tradeUrlSuccess=!1,e.profilePic="",e.tradeUrl="Add trade URL to unlock jackpot deposits",e.playDestination="#tradeurl",e.updateTradeUrl=function(){e.tradeUrl.match(/partner/i)&&e.tradeUrl.match(/token/i)?i.post("/users/update-trade-url",{tradeUrl:e.tradeUrl}).success(function(t){e.successDanger="success",e.playDestination="#deposit",e.tradeUrlSuccess=!0}):e.tradeUrl="Invalid trade Url, please try again"},e.clearPlaceholder=function(){e.tradeUrl=""},e.checkAuth=function(){n.checkSession().success(function(n){n&&(e.profilePic=n.photos[1],e.isAuth=!0,t.user=n,n.tradeUrl&&(e.successDanger="success",e.playDestination="#deposit"))})},e.checkAuth()}]),angular.module("SnipeGo.Directives.Popover",["SnipeGo"]).directive("popover",function(){return function(e,t,n){t.find("[rel=popover]").popover({placement:"bottom",html:"true"})}}),angular.module("SnipeGo.Directives.ToggleClass",["SnipeGo"]).directive("toggleClass",function(e){return{restrict:"A",link:function(t,n,i){$(n).click(function(){e.itemsSelected<10?$(n).toggleClass("highlightSelected"):$(n).removeClass("highlightSelected")})}}}),angular.module("SnipeGo.Services",["SnipeGo"]).factory("Auth",["$http",function(e){var t=function(){return e.get("/auth/is-authenticated")};return{checkSession:t}}]),angular.module("SnipeGo",["SnipeGo.Directives.Popover","SnipeGo.Directives.ToggleClass","SnipeGo.MainCtrl","SnipeGo.NavCtrl","SnipeGo.DepositCtrl","SnipeGo.Services","ui.router","firebase","angular-svg-round-progress","irontec.simpleChat","ngAnimate"]).config(function(e,t){t.otherwise("/"),e.state("main",{url:"/",views:{"":{templateUrl:"js/template/main.html",controller:"MainCtrl"},nav:{templateUrl:"js/template/nav.html",controller:"NavCtrl"}}})}),angular.module("SnipeGo.DepositCtrl",["SnipeGo","SnipeGo.Services"]).controller("DepositCtrl",["$scope","$http","$rootScope","$window","$firebaseObject",function(e,t,n,i,o){var r=new Firebase("https://snipego.firebaseio.com/users");e.users=o(r);var s=function(){return{tradeUrl:n.user.tradeUrl,displayName:n.user.displayName,avatar:n.user.photos[1],id:n.user.id,items:e.selectedItems,itemsValue:e.totalValue(),itemsCount:n.itemsSelected}};e.inventoryLoading=!1,e.loadingTrade=!1,e.items=[],e.selectedItems={},e.tradeID="",e.protectionCode="",e.users.$watch(function(){e.users.$loaded().then(function(){e.returnID()})}),e.returnID=function(){void 0!==e.users[n.user.id].tradeID&&void 0!==e.users[n.user.id].protectionCode&&(e.loadingTrade=!1,e.tradeID=e.users[n.user.id].tradeID,e.protectionCode=e.users[n.user.id].protectionCode)},e.selectedQuantity=function(){return n.itemsSelected=Object.keys(e.selectedItems).length," "+n.itemsSelected+" Skins"},e.totalValue=function(){var t=0;for(var n in e.selectedItems)t+=parseFloat(e.selectedItems[n].market_price);return Math.round(100*t)/100},e.selectItem=function(t){e.selectedItems[t.assetid]?delete e.selectedItems[t.assetid]:10===n.itemsSelected?i.alert("You can't add more than 10 items"):e.selectedItems[t.assetid]=t},e.depositItems=function(){0===n.itemsSelected&&i.alert("Please select at least one skin to deposit"),e.loadingTrade=!0,t.post("/deposit/",s()).success(function(t){e.selectedItems={},e.items=[]})},e.sortItems=function(t){e.items=t.sort(function(e,t){return t.market_price-e.market_price}),e.inventoryLoading=!1},e.fetchInventory=function(){e.items=[],e.inventoryLoading?i.alert("Your inventory is already loading, please be patient"):(e.inventoryLoading=!0,t.post("/users/update-inventory",{steamid:n.user.id}).success(function(t){e.sortItems(t)}))}}]),angular.module("SnipeGo.MainCtrl",["SnipeGo"]).controller("MainCtrl",["$scope","$firebaseArray","$firebaseObject","$rootScope","$window","$http",function(e,t,n,i,o,r){var s=new Firebase("https://snipego.firebaseio.com/messages"),a=new Firebase("https://snipego.firebaseio.com/currentJackpot"),c=new Firebase("https://snipego.firebaseio.com/endedJackpots"),u=s.orderByChild("timestamp").limitToLast(10);
e.visible=!0,e.expandOnNew=!0,e.messages=t(u),e.currentJackpot=n(a),e.endedJackpots=t(c),e.ended=[],e.currentJackpot.$watch(function(){e.currentJackpot.$loaded().then(function(){var t=[];for(var n in e.currentJackpot.players)e.currentJackpot.players[n].chance=(e.currentJackpot.players[n].itemsValue/e.currentJackpot.jackpotValue*100).toFixed(2),t.push(e.currentJackpot.players[n]);e.currentJackpot.players=e.currentJackpot.players.reverse(),e.currentJackpot.jackpotValue=e.currentJackpot.jackpotValue.toFixed(2)})}),e.endedJackpots.$watch(function(){e.endedJackpots.$loaded().then(function(){e.ended=e.endedJackpots.slice(-3).reverse();for(var t=0;t<e.ended.length;t++){for(var n=0;n<e.ended[t].players.length;n++)e.ended[t].players[n].chance=(e.ended[t].players[n].itemsValue/e.ended[t].jackpotValue*100).toFixed(2);e.ended[t].players=e.ended[t].players.reverse()}})}),e.getStyle=function(){var e="translateY(-50%) translateX(-50%)";return{top:"35%",bottom:"auto",left:"50%",transform:e,"-moz-transform":e,"-webkit-transform":e,"font-size":"65px"}},e.sendMessage=function(e){e&&""!==e&&i.user?r.post("/users/messages",{username:i.user.photos[0],content:e}):o.alert("Please sign in to send a message or try again later.")}}]),angular.module("SnipeGo.NavCtrl",["SnipeGo","SnipeGo.Services"]).controller("NavCtrl",["$scope","$rootScope","Auth","$http",function(e,t,n,i){e.successDanger="danger",e.isAuth=!1,e.tradeUrlSuccess=!1,e.profilePic="",e.tradeUrl="Add trade URL to unlock jackpot deposits",e.playDestination="#tradeurl",e.updateTradeUrl=function(){e.tradeUrl.match(/partner/i)&&e.tradeUrl.match(/token/i)?i.post("/users/update-trade-url",{tradeUrl:e.tradeUrl}).success(function(t){e.successDanger="success",e.playDestination="#deposit",e.tradeUrlSuccess=!0}):e.tradeUrl="Invalid trade Url, please try again"},e.clearPlaceholder=function(){e.tradeUrl=""},e.checkAuth=function(){n.checkSession().success(function(n){n&&(e.profilePic=n.photos[1],e.isAuth=!0,t.user=n,n.tradeUrl&&(e.successDanger="success",e.playDestination="#deposit"))})},e.checkAuth()}]),angular.module("SnipeGo.Directives.Popover",["SnipeGo"]).directive("popover",function(){return function(e,t,n){t.find("[rel=popover]").popover({placement:"bottom",html:"true"})}}),angular.module("SnipeGo.Directives.ToggleClass",["SnipeGo"]).directive("toggleClass",function(e){return{restrict:"A",link:function(t,n,i){$(n).click(function(){e.itemsSelected<10?$(n).toggleClass("highlightSelected"):$(n).removeClass("highlightSelected")})}}}),angular.module("SnipeGo.Services",["SnipeGo"]).factory("Auth",["$http",function(e){var t=function(){return e.get("/auth/is-authenticated")};return{checkSession:t}}]),angular.module("SnipeGo",["SnipeGo.Directives.Popover","SnipeGo.Directives.ToggleClass","SnipeGo.MainCtrl","SnipeGo.NavCtrl","SnipeGo.DepositCtrl","SnipeGo.Services","ui.router","firebase","angular-svg-round-progress","irontec.simpleChat","ngAnimate"]).config(function(e,t){t.otherwise("/"),e.state("main",{url:"/",views:{"":{templateUrl:"js/template/main.html",controller:"MainCtrl"},nav:{templateUrl:"js/template/nav.html",controller:"NavCtrl"}}})}),angular.module("SnipeGo.DepositCtrl",["SnipeGo","SnipeGo.Services"]).controller("DepositCtrl",["$scope","$http","$rootScope","$window","$firebaseObject",function(e,t,n,i,o){var r=new Firebase("https://snipego.firebaseio.com/users");e.users=o(r);var s=function(){return{tradeUrl:n.user.tradeUrl,displayName:n.user.displayName,avatar:n.user.photos[1],id:n.user.id,items:e.selectedItems,itemsValue:e.totalValue(),itemsCount:n.itemsSelected}};e.inventoryLoading=!1,e.loadingTrade=!1,e.items=[],e.selectedItems={},e.tradeID="",e.protectionCode="",e.users.$watch(function(){e.users.$loaded().then(function(){e.returnID()})}),e.returnID=function(){void 0!==e.users[n.user.id].tradeID&&void 0!==e.users[n.user.id].protectionCode&&(e.loadingTrade=!1,e.tradeID=e.users[n.user.id].tradeID,e.protectionCode=e.users[n.user.id].protectionCode)},e.selectedQuantity=function(){return n.itemsSelected=Object.keys(e.selectedItems).length," "+n.itemsSelected+" Skins"},e.totalValue=function(){var t=0;for(var n in e.selectedItems)t+=parseFloat(e.selectedItems[n].market_price);return Math.round(100*t)/100},e.selectItem=function(t){e.selectedItems[t.assetid]?delete e.selectedItems[t.assetid]:10===n.itemsSelected?i.alert("You can't add more than 10 items"):e.selectedItems[t.assetid]=t},e.depositItems=function(){0===n.itemsSelected&&i.alert("Please select at least one skin to deposit"),e.loadingTrade=!0,t.post("/deposit/",s()).success(function(t){e.selectedItems={},e.items=[]})},e.sortItems=function(t){e.items=t.sort(function(e,t){return t.market_price-e.market_price}),e.inventoryLoading=!1},e.fetchInventory=function(){e.items=[],e.inventoryLoading?i.alert("Your inventory is already loading, please be patient"):(e.inventoryLoading=!0,t.post("/users/update-inventory",{steamid:n.user.id}).success(function(t){e.sortItems(t)}))}}]),angular.module("SnipeGo.MainCtrl",["SnipeGo"]).controller("MainCtrl",["$scope","$firebaseArray","$firebaseObject","$rootScope","$window","$http",function(e,t,n,i,o,r){var s=new Firebase("https://snipego.firebaseio.com/messages"),a=new Firebase("https://snipego.firebaseio.com/currentJackpot"),c=new Firebase("https://snipego.firebaseio.com/endedJackpots"),u=s.orderByChild("timestamp").limitToLast(10);e.visible=!0,e.expandOnNew=!0,e.messages=t(u),e.currentJackpot=n(a),e.endedJackpots=t(c),e.ended=[],e.currentJackpot.$watch(function(){e.currentJackpot.$loaded().then(function(){var t=[];for(var n in e.currentJackpot.players)e.currentJackpot.players[n].chance=(e.currentJackpot.players[n].itemsValue/e.currentJackpot.jackpotValue*100).toFixed(2),t.push(e.currentJackpot.players[n]);e.currentJackpot.players=e.currentJackpot.players.reverse(),e.currentJackpot.jackpotValue=e.currentJackpot.jackpotValue.toFixed(2)})}),e.endedJackpots.$watch(function(){e.endedJackpots.$loaded().then(function(){e.ended=e.endedJackpots.slice(-3).reverse();for(var t=0;t<e.ended.length;t++){for(var n=0;n<e.ended[t].players.length;n++)e.ended[t].players[n].chance=(e.ended[t].players[n].itemsValue/e.ended[t].jackpotValue*100).toFixed(2);e.ended[t].players=e.ended[t].players.reverse()}})}),e.getStyle=function(){var e="translateY(-50%) translateX(-50%)";return{top:"35%",bottom:"auto",left:"50%",transform:e,"-moz-transform":e,"-webkit-transform":e,"font-size":"65px"}},e.sendMessage=function(e){e&&""!==e&&i.user?r.post("/users/messages",{username:i.user.photos[0],content:e}):o.alert("Please sign in to send a message or try again later.")}}]),angular.module("SnipeGo.NavCtrl",["SnipeGo","SnipeGo.Services"]).controller("NavCtrl",["$scope","$rootScope","Auth","$http",function(e,t,n,i){e.successDanger="danger",e.isAuth=!1,e.tradeUrlSuccess=!1,e.profilePic="",e.tradeUrl="Add trade URL to unlock jackpot deposits",e.playDestination="#tradeurl",e.updateTradeUrl=function(){e.tradeUrl.match(/partner/i)&&e.tradeUrl.match(/token/i)?i.post("/users/update-trade-url",{tradeUrl:e.tradeUrl}).success(function(t){e.successDanger="success",e.playDestination="#deposit",e.tradeUrlSuccess=!0}):e.tradeUrl="Invalid trade Url, please try again"},e.clearPlaceholder=function(){e.tradeUrl=""},e.checkAuth=function(){n.checkSession().success(function(n){n&&(e.profilePic=n.photos[1],e.isAuth=!0,t.user=n,n.tradeUrl&&(e.successDanger="success",e.playDestination="#deposit"))})},e.checkAuth()}]),angular.module("SnipeGo.Directives.Popover",["SnipeGo"]).directive("popover",function(){return function(e,t,n){t.find("[rel=popover]").popover({placement:"bottom",html:"true"})}}),angular.module("SnipeGo.Directives.ToggleClass",["SnipeGo"]).directive("toggleClass",["$rootScope",function(e){return{restrict:"A",link:function(t,n,i){$(n).click(function(){e.itemsSelected<10?$(n).toggleClass("highlightSelected"):$(n).removeClass("highlightSelected")})}}}]),angular.module("SnipeGo.Services",["SnipeGo"]).factory("Auth",["$http",function(e){var t=function(){return e.get("/auth/is-authenticated")};return{checkSession:t}}]),angular.module("SnipeGo",["SnipeGo.Directives.Popover","SnipeGo.Directives.ToggleClass","SnipeGo.MainCtrl","SnipeGo.NavCtrl","SnipeGo.DepositCtrl","SnipeGo.Services","ui.router","firebase","angular-svg-round-progress","irontec.simpleChat","ngAnimate"]).config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/"),e.state("main",{url:"/",views:{"":{templateUrl:"js/template/main.html",controller:"MainCtrl"},nav:{templateUrl:"js/template/nav.html",controller:"NavCtrl"}}})}]),angular.module("SnipeGo.DepositCtrl",["SnipeGo","SnipeGo.Services"]).controller("DepositCtrl",["$scope","$http","$rootScope","$window","$firebaseObject",function(e,t,n,i,o){var r=new Firebase("https://snipego.firebaseio.com/users");e.users=o(r);var s=function(){return{tradeUrl:n.user.tradeUrl,displayName:n.user.displayName,avatar:n.user.photos[1],id:n.user.id,items:e.selectedItems,itemsValue:e.totalValue(),itemsCount:n.itemsSelected}};e.inventoryLoading=!1,e.loadingTrade=!1,e.items=[],e.selectedItems={},e.tradeID="",e.protectionCode="",e.users.$watch(function(){e.users.$loaded().then(function(){e.returnID()})}),e.returnID=function(){void 0!==e.users[n.user.id].tradeID&&void 0!==e.users[n.user.id].protectionCode&&(e.loadingTrade=!1,e.tradeID=e.users[n.user.id].tradeID,e.protectionCode=e.users[n.user.id].protectionCode)},e.selectedQuantity=function(){return n.itemsSelected=Object.keys(e.selectedItems).length," "+n.itemsSelected+" Skins"},e.totalValue=function(){var t=0;for(var n in e.selectedItems)t+=parseFloat(e.selectedItems[n].market_price);return Math.round(100*t)/100},e.selectItem=function(t){e.selectedItems[t.assetid]?delete e.selectedItems[t.assetid]:10===n.itemsSelected?i.alert("You can't add more than 10 items"):e.selectedItems[t.assetid]=t},e.depositItems=function(){0===n.itemsSelected&&i.alert("Please select at least one skin to deposit"),e.loadingTrade=!0,t.post("/deposit/",s()).success(function(t){e.selectedItems={},e.items=[]})},e.sortItems=function(t){e.items=t.sort(function(e,t){return t.market_price-e.market_price}),e.inventoryLoading=!1},e.fetchInventory=function(){e.items=[],e.inventoryLoading?i.alert("Your inventory is already loading, please be patient"):(e.inventoryLoading=!0,t.post("/users/update-inventory",{steamid:n.user.id}).success(function(t){e.sortItems(t)}))}}]),angular.module("SnipeGo.MainCtrl",["SnipeGo"]).controller("MainCtrl",["$scope","$firebaseArray","$firebaseObject","$rootScope","$window","$http",function(e,t,n,i,o,r){var s=new Firebase("https://snipego.firebaseio.com/messages"),a=new Firebase("https://snipego.firebaseio.com/currentJackpot"),c=new Firebase("https://snipego.firebaseio.com/endedJackpots"),u=s.orderByChild("timestamp").limitToLast(10);e.visible=!0,e.expandOnNew=!0,e.messages=t(u),e.currentJackpot=n(a),e.endedJackpots=t(c),e.ended=[],e.currentJackpot.$watch(function(){e.currentJackpot.$loaded().then(function(){var t=[];for(var n in e.currentJackpot.players)e.currentJackpot.players[n].chance=(e.currentJackpot.players[n].itemsValue/e.currentJackpot.jackpotValue*100).toFixed(2),t.push(e.currentJackpot.players[n]);e.currentJackpot.players=e.currentJackpot.players.reverse(),e.currentJackpot.jackpotValue=e.currentJackpot.jackpotValue.toFixed(2)})}),e.endedJackpots.$watch(function(){e.endedJackpots.$loaded().then(function(){e.ended=e.endedJackpots.slice(-3).reverse();for(var t=0;t<e.ended.length;t++){for(var n=0;n<e.ended[t].players.length;n++)e.ended[t].players[n].chance=(e.ended[t].players[n].itemsValue/e.ended[t].jackpotValue*100).toFixed(2);e.ended[t].players=e.ended[t].players.reverse()}})}),e.getStyle=function(){var e="translateY(-50%) translateX(-50%)";return{top:"35%",bottom:"auto",left:"50%",transform:e,"-moz-transform":e,"-webkit-transform":e,"font-size":"65px"}},e.sendMessage=function(e){e&&""!==e&&i.user?r.post("/users/messages",{username:i.user.photos[0],content:e}):o.alert("Please sign in to send a message or try again later.")}}]),angular.module("SnipeGo.NavCtrl",["SnipeGo","SnipeGo.Services"]).controller("NavCtrl",["$scope","$rootScope","Auth","$http",function(e,t,n,i){e.successDanger="danger",e.isAuth=!1,e.tradeUrlSuccess=!1,e.profilePic="",e.tradeUrl="Add trade URL to unlock jackpot deposits",e.playDestination="#tradeurl",e.updateTradeUrl=function(){e.tradeUrl.match(/partner/i)&&e.tradeUrl.match(/token/i)?i.post("/users/update-trade-url",{tradeUrl:e.tradeUrl}).success(function(t){e.successDanger="success",e.playDestination="#deposit",e.tradeUrlSuccess=!0}):e.tradeUrl="Invalid trade Url, please try again"},e.clearPlaceholder=function(){e.tradeUrl=""},e.checkAuth=function(){n.checkSession().success(function(n){n&&(e.profilePic=n.photos[1],e.isAuth=!0,t.user=n,n.tradeUrl&&(e.successDanger="success",e.playDestination="#deposit"))})},e.checkAuth()}]),angular.module("SnipeGo.Directives.Popover",["SnipeGo"]).directive("popover",function(){return function(e,t,n){t.find("[rel=popover]").popover({placement:"bottom",html:"true"})}}),angular.module("SnipeGo.Directives.ToggleClass",["SnipeGo"]).directive("toggleClass",["$rootScope",function(e){return{restrict:"A",link:function(t,n,i){$(n).click(function(){e.itemsSelected<10?$(n).toggleClass("highlightSelected"):$(n).removeClass("highlightSelected")})}}}]),angular.module("SnipeGo.Services",["SnipeGo"]).factory("Auth",["$http",function(e){var t=function(){return e.get("/auth/is-authenticated")};return{checkSession:t}}]),angular.module("SnipeGo",["SnipeGo.Directives.Popover","SnipeGo.Directives.ToggleClass","SnipeGo.MainCtrl","SnipeGo.NavCtrl","SnipeGo.DepositCtrl","SnipeGo.Services","ui.router","firebase","angular-svg-round-progress","irontec.simpleChat","ngAnimate"]).config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("main",{url:"/",views:{"":{templateUrl:"js/template/main.html",controller:"MainCtrl"},nav:{templateUrl:"js/template/nav.html",controller:"NavCtrl"}}})}]),angular.module("SnipeGo.DepositCtrl",["SnipeGo","SnipeGo.Services"]).controller("DepositCtrl",["$scope","$http","$rootScope","$window","$firebaseObject",function($scope,$http,$rootScope,$window,$firebaseObject){var userRef=new Firebase("https://snipego.firebaseio.com/users");$scope.users=$firebaseObject(userRef);var depositData=function(){return{tradeUrl:$rootScope.user.tradeUrl,displayName:$rootScope.user.displayName,avatar:$rootScope.user.photos[1],id:$rootScope.user.id,items:$scope.selectedItems,itemsValue:$scope.totalValue(),itemsCount:$rootScope.itemsSelected}};$scope.inventoryLoading=!1,$scope.loadingTrade=!1,$scope.items=[],$scope.selectedItems={},$scope.tradeID="",$scope.protectionCode="",$scope.users.$watch(function(){$scope.users.$loaded().then(function(){$scope.returnID()})}),$scope.returnID=function(){void 0!==$scope.users[$rootScope.user.id].tradeID&&void 0!==$scope.users[$rootScope.user.id].protectionCode&&($scope.loadingTrade=!1,$scope.tradeID=$scope.users[$rootScope.user.id].tradeID,$scope.protectionCode=$scope.users[$rootScope.user.id].protectionCode)},$scope.selectedQuantity=function(){return $rootScope.itemsSelected=Object.keys($scope.selectedItems).length," "+$rootScope.itemsSelected+" Skins"},$scope.totalValue=function(){var num=0;for(var key in $scope.selectedItems)num+=parseFloat($scope.selectedItems[key].market_price);return Math.round(100*num)/100},$scope.selectItem=function(item){$scope.selectedItems[item.assetid]?delete $scope.selectedItems[item.assetid]:10===$rootScope.itemsSelected?$window.alert("You can't add more than 10 items"):$scope.selectedItems[item.assetid]=item},$scope.depositItems=function(){0===$rootScope.itemsSelected&&$window.alert("Please select at least one skin to deposit"),$scope.loadingTrade=!0,$http.post("/deposit/",depositData()).success(function(resp){$scope.selectedItems={},$scope.items=[]})},$scope.sortItems=function(resp){$scope.items=resp.sort(function(a,b){return b.market_price-a.market_price}),$scope.inventoryLoading=!1},$scope.fetchInventory=function(){$scope.items=[],$scope.inventoryLoading?$window.alert("Your inventory is already loading, please be patient"):($scope.inventoryLoading=!0,$http.post("/users/update-inventory",{steamid:$rootScope.user.id}).success(function(resp){$scope.sortItems(resp)}))}}]),angular.module("SnipeGo.MainCtrl",["SnipeGo"]).controller("MainCtrl",["$scope","$firebaseArray","$firebaseObject","$rootScope","$window","$http",function($scope,$firebaseArray,$firebaseObject,$rootScope,$window,$http){var messagesRef=new Firebase("https://snipego.firebaseio.com/messages"),currentJackpotRef=new Firebase("https://snipego.firebaseio.com/currentJackpot"),endedJackpotRef=new Firebase("https://snipego.firebaseio.com/endedJackpots"),messagesQuery=messagesRef.orderByChild("timestamp").limitToLast(10);$scope.visible=!0,$scope.expandOnNew=!0,$scope.messages=$firebaseArray(messagesQuery),$scope.currentJackpot=$firebaseObject(currentJackpotRef),$scope.endedJackpots=$firebaseArray(endedJackpotRef),$scope.ended=[],$scope.currentJackpot.$watch(function(){$scope.currentJackpot.$loaded().then(function(){var players=[];for(var key in $scope.currentJackpot.players)$scope.currentJackpot.players[key].chance=($scope.currentJackpot.players[key].itemsValue/$scope.currentJackpot.jackpotValue*100).toFixed(2),players.push($scope.currentJackpot.players[key]);$scope.currentJackpot.players=$scope.currentJackpot.players.reverse(),$scope.currentJackpot.jackpotValue=$scope.currentJackpot.jackpotValue.toFixed(2)})}),$scope.endedJackpots.$watch(function(){$scope.endedJackpots.$loaded().then(function(){$scope.ended=$scope.endedJackpots.slice(-3).reverse();for(var i=0;i<$scope.ended.length;i++){for(var j=0;j<$scope.ended[i].players.length;j++)$scope.ended[i].players[j].chance=($scope.ended[i].players[j].itemsValue/$scope.ended[i].jackpotValue*100).toFixed(2);$scope.ended[i].players=$scope.ended[i].players.reverse()}})}),$scope.getStyle=function(){var transform="translateY(-50%) translateX(-50%)";return{top:"35%",bottom:"auto",left:"50%",transform:transform,"-moz-transform":transform,"-webkit-transform":transform,"font-size":"65px"}},$scope.sendMessage=function(message){message&&""!==message&&$rootScope.user?$http.post("/users/messages",{username:$rootScope.user.photos[0],content:message}):$window.alert("Please sign in to send a message or try again later.")}}]),angular.module("SnipeGo.NavCtrl",["SnipeGo","SnipeGo.Services"]).controller("NavCtrl",["$scope","$rootScope","Auth","$http",function($scope,$rootScope,Auth,$http){$scope.successDanger="danger",$scope.isAuth=!1,$scope.tradeUrlSuccess=!1,$scope.profilePic="",$scope.tradeUrl="Add trade URL to unlock jackpot deposits",$scope.playDestination="#tradeurl",$scope.updateTradeUrl=function(){$scope.tradeUrl.match(/partner/i)&&$scope.tradeUrl.match(/token/i)?$http.post("/users/update-trade-url",{tradeUrl:$scope.tradeUrl}).success(function(resp){$scope.successDanger="success",$scope.playDestination="#deposit",$scope.tradeUrlSuccess=!0}):$scope.tradeUrl="Invalid trade Url, please try again"},$scope.clearPlaceholder=function(){$scope.tradeUrl=""},$scope.checkAuth=function(){Auth.checkSession().success(function(resp){resp&&($scope.profilePic=resp.photos[1],$scope.isAuth=!0,$rootScope.user=resp,resp.tradeUrl&&($scope.successDanger="success",$scope.playDestination="#deposit"))})},$scope.checkAuth()}]),angular.module("SnipeGo.Directives.Popover",["SnipeGo"]).directive("popover",function(){return function(scope,element,attrs){element.find("[rel=popover]").popover({placement:"bottom",html:"true"})}}),angular.module("SnipeGo.Directives.ToggleClass",["SnipeGo"]).directive("toggleClass",["$rootScope",function($rootScope){return{restrict:"A",link:function(scope,elem,attrs){$(elem).click(function(){$rootScope.itemsSelected<10?$(elem).toggleClass("highlightSelected"):$(elem).removeClass("highlightSelected")})}}}]),angular.module("SnipeGo.Services",["SnipeGo"]).factory("Auth",["$http",function($http){var checkSession=function(){return $http.get("/auth/is-authenticated")};return{checkSession:checkSession}}]);